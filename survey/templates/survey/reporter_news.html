{% extends 'base.html' %}
{% load static %}
{% block title %}Reporter News with Rating Filter{% endblock %}

{% block content %}
<link rel="stylesheet" href="{% static 'survey/css/reporter_news.css' %}">

<div class="filter-container">
    <form method="get">
        <label for="dateFilter">Date:</label>
        <input type="date" id="dateFilter" name="date">

        <label for="reporterFilter">Reporter:</label>
        <input type="text" id="reporterFilter" name="reporter" placeholder="Enter reporter name">

        <label for="keywordFilter">Keyword:</label>
        <input type="text" id="keywordFilter" name="keyword" placeholder="Enter keyword">

        <label for="ratingFilter">Rating:</label>
        <select id="ratingFilter" name="rating">
            <option value="">All Ratings</option>
            <option value="5">⭐⭐⭐⭐⭐</option>
            <option value="4">⭐⭐⭐⭐</option>
            <option value="3">⭐⭐⭐</option>
            <option value="2">⭐⭐</option>
            <option value="1">⭐</option>
        </select>

        <button type="submit">Apply Filters</button>
    </form>
</div>

<div class="table-container">
    <table id="newsTable">
        <thead>
            <tr>
                <th>Title</th>
                <th>Reporter</th>
                <th>Date</th>
                <th>Rating</th>
            </tr>
        </thead>
        <tbody>
            {% for news in news_list %}
            <tr>
                <td><a href="#">{{ news.title }}</a></td>
                <td>{{ news.reporter }}</td>
                <td>{{ news.date }}</td>
                <td>{{ news.rating_stars }}</td>
            </tr>
            {% empty %}
            <tr>
                <td colspan="4">No news found</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}
